{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Track.vue?a8fc","webpack:///./src/views/Home.vue?da68","webpack:///./src/components/User.vue?109d","webpack:///./src/App.vue?c650","webpack:///./src/App.vue?958d","webpack:///./src/types/ApiBase.ts","webpack:///./src/types/Spotify.ts","webpack:///./src/types/ScrobbleClient.ts","webpack:///./src/api.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/views/Home.vue?4747","webpack:///./src/components/User.vue?abdb","webpack:///./src/components/Track.vue?57dc","webpack:///./src/components/Track.vue","webpack:///./src/components/Track.vue?cbfa","webpack:///./src/components/Track.vue?a072","webpack:///./src/components/User.vue","webpack:///./src/components/User.vue?3232","webpack:///./src/components/User.vue?9a3f","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?2d60","webpack:///./src/views/Home.vue?c853","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","isAppReady","_e","staticRenderFns","apiBase","apiToken","tokenType","setToken","token","emit","method","path","body","request","set","send","Promise","resolve","reject","end","error","response","apiRequestRaw","Boolean","SpotifyClient","scrobbleClient","VUE_APP_SPOTIFY_API","getSpotifyToken","then","console","catch","trackId","apiRequestBody","trackIds","join","albumId","playlistId","query","VUE_APP_SCROBBLE_API","type","userIds","spotify","spotifyApiReady","isAuthenticated","on","setInterval","$store","dispatch","component","staticClass","scopedSlots","_u","fn","ref","item","index","active","_v","_s","loadingData","desc","style","width","Math","max","round","complete","total","avatarUrl","onAvatarError","user","username","discriminator","status","lastScrobbleTime","formatTimeDiff","nowDate","background","statusColor","isUser","now","showPalette","history","toggleHistory","showHistory","_l","id","start","duration","class","open","openSkips","$event","toggleSkip","tracks","directives","rawName","expression","small","large","hideCover","bg","coverImage","albumName","color","text","note","artistId","artists","swatch","ratioCorrection","palette","autoPalette","updatePalette","from","getPalette","Vibrant","Muted","DarkVibrant","DarkMuted","LightVibrant","LightMuted","getHex","lightVibrantHSL","Util","rgbToHsl","g","b","darkMutedHSL","dml","lvl","ratio","min","newLvl","newLvHsl","concat","newLvRgb","hslToRgb","newLvHex","rgbToHex","albums","track","log","$parent","userId","album","images","url","String","required","computed","q","parse","location","search","showpalette","defaultAvatars","avatarError","diff","formatDistanceStrict","replace","u","letter","second","minute","hour","day","week","month","year","users","scrobbles","lastScrobble","endTime","avatar","ext","startsWith","scrobble","scrobbleDuration","startTime","lastEntry","pop","components","Track","searchForUsers","split","hideHistory","hidehistory","cachedTracks","cachedUsers","ready","tracksQueue","tracksHandler","getUsers","map","trackIdBuckets","forEach","find","test","includes","unshift","drain","entries","trackIdsIn","callback","extraTrackIds","getTracks","retryTimeout","parseInt","headers","setTimeout","refreshData","dataInterval","listening","notListening","sort","a","userA","userB","toLowerCase","subscribe","mutation","sortUsers","User","use","routes","Store","state","Date","openHistories","localforageEnabled","mutations","saveTrack","saveAlbum","saveArtist","artist","setNowDate","date","updateUser","reinitUsers","disableLocalforage","actions","updateNow","commit","loadIndexedDB","saveTracks","changes","duration_ms","setItem","JSON","stringify","config","productionTip","router","store","render","h","$mount"],"mappings":"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","file":"js/app.e2cc8a98.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.isAppReady())?_c('router-view',{attrs:{\"id\":\"app-view\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import EventEmitter from 'eventemitter3'\nimport superagent from 'superagent'\n\nexport type Method = 'get' | 'post' | 'put'\n\nexport class ApiBase extends EventEmitter {\n  apiBase: string\n\n  token?: string\n\n  constructor(apiBase: string, apiToken?: string, tokenType?: string) {\n    super()\n    if (apiToken) { this.setToken(apiToken, tokenType) }\n    this.apiBase = apiBase\n  }\n\n  get isAuthenticated() {\n    return Boolean(this.token)\n  }\n\n  setToken(apiToken: string, tokenType?: string) {\n    if (tokenType) this.token = `${tokenType} ${apiToken}`\n    else this.token = apiToken\n    this.emit('tokenUpdate')\n  }\n\n  apiRequestRaw(method: Method, path: string, body?: object): Promise<superagent.Response> {\n    let request = superagent[method](this.apiBase + path)\n    if (this.token) request = request.set('Authorization', this.token)\n    if (body) request = request.send(body)\n    return new Promise((resolve, reject) => {\n      request.end((error, response) => {\n        if (error) reject(error)\n        if (response) resolve(response)\n      })\n    })\n  }\n\n  async apiRequestBody(method: Method, path: string, body?: object) {\n    const response = await this.apiRequestRaw(method, path, body)\n    return response.body\n  }\n}\n","import { ApiBase } from './ApiBase'\nimport { ScrobbleClient } from './ScrobbleClient'\n\nexport interface Restrictions { reason: 'market' | 'product' | 'explicit' | string }\nexport interface Copyright { text: string; type: 'C' | 'P' }\nexport interface Followers { href: string; total: number }\n\nexport interface Paging<T> {\n  href: string;\n  items: T[];\n  limit: number;\n  next?: string;\n  offset: number;\n  previous?: string;\n  total: number;\n}\n\nexport interface Image {\n  height?: number;\n  url: string;\n  width: number;\n}\nexport interface ArtistSimple {\n  external_urls: Record<string, string>;\n  href: string;\n  id: string;\n  name: string;\n  type: string;\n  uri: string;\n}\nexport interface AlbumSimple {\n  album_group?: string;\n  album_type: string;\n  artists: ArtistSimple[];\n  available_markets: string[];\n  external_urls: Record<string, string>;\n  href: string;\n  id: string;\n  images: Image[];\n  name: string;\n  release_date: string;\n  release_date_precision: 'year' | 'month' | 'day';\n  restrictions: Restrictions;\n  type: string;\n  uri: string;\n}\nexport interface Track {\n  album: AlbumSimple;\n  artists: ArtistSimple[];\n  available_markets: string[];\n  disc_number: number;\n  duration_ms: number;\n  explicit: boolean;\n  external_ids: Record<string, string>;\n  external_urls: Record<string, string>;\n  href: string;\n  id: string;\n  // is_playable: boolean,\n  // linked_from: aaaaaaa\n  restrictions: Restrictions;\n  name: string;\n  popularity: number;\n  preview_url: string;\n  track_number: number;\n  type: string;\n  uri: string;\n}\nexport interface Artist extends ArtistSimple {\n  followers: Followers;\n  genres: string[];\n  images: Image[];\n  popularity: number;\n}\nexport interface Album extends AlbumSimple {\n  copyrights: Copyright[];\n  genres: string[];\n  label: string;\n  popularity: number;\n  tracks: Paging<Track>;\n}\nexport interface User {\n  display_name: string;\n  external_urls: Record<string, string>;\n  followers: Followers;\n  href: string;\n  id: string;\n  images: Image[];\n  type: string;\n  uri: string;\n}\nexport interface PlaylistTrack {\n  added_at?: string;\n  added_by: User;\n  is_local: boolean;\n  track: Track;\n}\nexport interface Playlist {\n  collaborative: boolean;\n  description?: string;\n  external_urls: Record<string, string>;\n  followers: Followers;\n  href: string;\n  id: string;\n  images: Image[];\n  name: string;\n  owner: User;\n  public?: boolean;\n  snapshot_id: string;\n  tracks: Paging<PlaylistTrack>;\n  type: string;\n  uri: string;\n}\n\nexport interface SeveralTracks { tracks: Track[] }\nexport type SpotifyClientResponse = Track | SeveralTracks | Artist | Album | Playlist\n\nexport class SpotifyClient extends ApiBase {\n  constructor(scrobbleClient: ScrobbleClient) {\n    super(process.env.VUE_APP_SPOTIFY_API)\n    scrobbleClient\n      .getSpotifyToken()\n      .then(data => {\n        if (!data.token) { console.error('Could not get spotify token: token is null') } else this.setToken(data.token, data.tokenType)\n      })\n      .catch(error => {\n        console.error('Could not get spotify token:', error)\n      })\n  }\n\n  getTrack(trackId: string): Promise<Track> {\n    return this.apiRequestBody('get', `/tracks/${trackId}`)\n  }\n\n  getTracks(trackIds: string[]): Promise<SeveralTracks> {\n    return this.apiRequestBody('get', `/tracks?ids=${trackIds.join(',')}`)\n  }\n\n  getAlbum(albumId: string): Promise<Album> {\n    return this.apiRequestBody('get', `/albums/${albumId}`)\n  }\n\n  getPlaylist(playlistId: string, query = ''): Promise<Playlist> {\n    return this.apiRequestBody('get', `/playlists/${playlistId}?${query}`)\n  }\n}\n","import { ApiBase } from './ApiBase'\n\nexport type SpotifyTokenData = {\n  token: string;\n  type: string;\n}\nexport interface Scrobble {\n  id: string;\n  startTime: number;\n  endTime: number | null;\n}\nexport interface User {\n  id: string;\n  username: string;\n  discriminator: string;\n  avatar: string | null;\n}\nexport interface ScrobbleResponse {\n  user: User;\n  scrobbles: Scrobble[];\n}\n\nexport class ScrobbleClient extends ApiBase {\n  constructor() {\n    super(process.env.VUE_APP_SCROBBLE_API)\n  }\n\n  async getSpotifyToken() {\n    const data: SpotifyTokenData = await this.apiRequestBody('get', '/spotify-token')\n    return { token: data.token, tokenType: data.type }\n  }\n\n  getUsers(userIds: string[]): Promise<ScrobbleResponse[]> {\n    return this.apiRequestBody('get', `?q=${userIds.join(',')}`)\n  }\n}\n","import { SpotifyClient } from './types/Spotify'\nimport { ScrobbleClient } from './types/ScrobbleClient'\n\nexport const scrobbleClient = new ScrobbleClient()\nexport const spotify = new SpotifyClient(scrobbleClient)\n","\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { spotify } from './api'\n\n@Component({ name: 'App' })\nexport default class App extends Vue {\n  spotifyApiReady = false\n\n  isAppReady() {\n    return this.spotifyApiReady\n  }\n\n  created() {\n    if (spotify.isAuthenticated) {\n      this.spotifyApiReady = true\n    } else {\n      spotify.on('tokenUpdate', () => {\n        if (spotify.isAuthenticated) this.spotifyApiReady = true\n        else this.spotifyApiReady = false\n      })\n    }\n    setInterval(() => {\n      this.$store.dispatch('updateNow')\n    }, 1000)\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=79f4ff60&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[(_vm.ready)?_c('div',{staticClass:\"feed\"},[_c('DynamicScroller',{staticClass:\"scroller\",attrs:{\"items\":_vm.userIds,\"min-item-size\":36},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nvar active = ref.active;\nreturn [_c('DynamicScrollerItem',{attrs:{\"item\":item,\"active\":active,\"data-index\":index}},[_c('User',{attrs:{\"userId\":item}})],1)]}}],null,false,2148141531)})],1):_c('div',{staticClass:\"splash\"},[_c('div',{staticClass:\"progress-desc\"},[_vm._v(_vm._s(_vm.loadingData.desc))]),_c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"progress\",style:({\n          width: ((Math.max(Math.round(_vm.loadingData.complete / _vm.loadingData.total * 100), 2)) + \"%\")\n        })})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[(_vm.user)?_c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatarUrl},on:{\"error\":_vm.onAvatarError}}),_c('div',{staticClass:\"tag\"},[_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.user.username))]),_c('div',{staticClass:\"discrim\"},[_vm._v(\"#\"+_vm._s(_vm.user.discriminator))])]),_c('div',{staticClass:\"spacer\"},[(_vm.status === 'Not Listening' && _vm.lastScrobbleTime)?_c('div',[_vm._v(\"(\"+_vm._s(_vm.formatTimeDiff(_vm.nowDate - _vm.lastScrobbleTime))+\")\")]):_vm._e()]),(_vm.status === 'Listening')?_c('div',{staticClass:\"status\"},[_vm._v(_vm._s(_vm.status))]):_vm._e(),_c('div',{staticClass:\"status-circle\",style:({\n      background: _vm.statusColor\n    })})]):_vm._e(),(_vm.isUser && _vm.now)?_c('Track',{attrs:{\"trackId\":_vm.now,\"autoPalette\":true,\"showPalette\":_vm.showPalette}}):_vm._e(),(_vm.isUser && _vm.history.length)?_c('div',{staticClass:\"history-btn\",on:{\"click\":_vm.toggleHistory}},[_vm._v(_vm._s(_vm.showHistory ? 'Hide' : 'Show')+\" History\")]):_vm._e(),(_vm.isUser && _vm.showHistory && _vm.history.length)?_c('div',{staticClass:\"history scroller\"},_vm._l((_vm.history),function(item,i){return _c('div',{key:i,staticClass:\"history-item\"},[(item.type === 'track')?_c('Track',{attrs:{\"trackId\":item.id,\"hideCover\":true,\"note\":_vm.formatTimeDiff(_vm.nowDate - item.start - item.duration)}}):_vm._e(),(item.type === 'skipped')?_c('div',{staticClass:\"skipped-container\",class:{ open: _vm.openSkips[i] }},[_c('span',{on:{\"click\":function($event){return _vm.toggleSkip(i)}}},[_vm._v(_vm._s(item.tracks.length)+\" Song\"+_vm._s(item.tracks.length === 1 ? '' : 's')+\" Skipped\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openSkips[i]),expression:\"openSkips[i]\"}],staticClass:\"skipped\"},_vm._l((item.tracks),function(trackId,j){return _c('Track',{key:j,attrs:{\"trackId\":trackId,\"hideCover\":true}})}),1)]):_vm._e()],1)}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spotify-track\",class:{ small: !_vm.large }},[(!_vm.hideCover)?_c('div',{staticClass:\"cover-wrapper\"},[_c('div',{staticClass:\"cover-fade\",style:({\n      background: (\"linear-gradient(to right, \" + _vm.bg + \", rgba(0, 0, 0, 0))\")\n    })}),_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.coverImage,\"alt\":_vm.albumName,\"title\":_vm.albumName}})]):_vm._e(),_c('div',{staticClass:\"content\",style:({\n    background: _vm.bg,\n    color: _vm.text\n  })},[_c('div',{staticClass:\"title\"},[_c('a',{attrs:{\"href\":(\"https://open.spotify.com/track/\" + _vm.trackId),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.tracks[_vm.trackId].name))]),_c('div',{staticClass:\"spacer\"}),(_vm.note)?_c('span',{staticClass:\"note\"},[_vm._v(_vm._s(_vm.note))]):_vm._e()]),_c('div',{staticClass:\"artists\"},_vm._l((_vm.tracks[_vm.trackId].artists),function(artistId,i){return _c('span',{key:artistId},[_c('a',{attrs:{\"href\":(\"https://open.spotify.com/artist/\" + artistId),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.artists[artistId].name))]),(i !== _vm.tracks[_vm.trackId].artists.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()])}),0)]),(_vm.showPalette)?_c('div',{staticClass:\"palette\"},_vm._l((_vm.palette),function(swatch,i){return _c('div',{key:i,staticClass:\"swatch\",style:({\n        background: swatch\n      })})}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Component, Prop, Vue, Watch,\n} from 'vue-property-decorator'\nimport { mapState } from 'vuex'\nimport Vibrant from 'node-vibrant'\nimport { State } from '@/store'\nimport UserComponent from './User.vue'\n\nconst ratioCorrection = 1.8\n\n@Component({\n  name: 'Track',\n  computed: mapState(['tracks', 'albums', 'artists']),\n})\nexport default class TrackComponent extends Vue {\n  $parent!: UserComponent\n\n  @Prop({ type: String, required: true }) readonly trackId!: string\n\n  @Prop(Boolean) readonly large!: string\n\n  @Prop(Boolean) readonly autoPalette!: boolean\n\n  @Prop(Boolean) readonly hideCover!: boolean\n\n  @Prop(Boolean) readonly showPalette!: boolean\n\n  @Prop(String) readonly note!: string\n\n  tracks!: State['tracks']\n\n  albums!: State['albums']\n\n  artists!: State['artists']\n\n  bg = ''\n\n  text = ''\n\n  palette: string[] = []\n\n  @Watch('trackId')\n  onTrackUpdate() {\n    if (this.autoPalette) this.updatePalette()\n  }\n\n  get coverImage() {\n    const { trackId, tracks, albums } = this\n    const track = tracks[trackId]\n    if (!track) {\n      console.log(\n        'Track %s not saved, from user %s',\n        trackId,\n        this.$parent.userId,\n      )\n      return null\n    }\n    const albumId = track.album\n    const album = albums[albumId]\n    if (!album) {\n      console.log(\n        'Album %s not saved, from track %s',\n        albumId,\n        trackId,\n      )\n      return null\n    }\n    if (!album.images[0]) { return './assets/default_cover.png' }\n    return album.images[0].url\n  }\n\n  get albumName() {\n    const { trackId, tracks, albums } = this\n    const track = tracks[trackId]\n    if (!track) {\n      console.log(\n        'Track %s not saved, from user %s',\n        trackId,\n        this.$parent.userId,\n      )\n      return null\n    }\n    const albumId = track.album\n    const album = albums[albumId]\n    if (album == null) {\n      console.log(\n        'Album %s not saved, from track %s',\n        albumId,\n        trackId,\n      )\n      return null\n    }\n    return album.name\n  }\n\n  updatePalette() {\n    this.palette = []\n    this.bg = ''\n    this.text = ''\n    if (!this.coverImage) return\n    Vibrant.from(this.coverImage)\n      .getPalette()\n      .then(palette => {\n        if (!(\n          palette.Vibrant && palette.Muted && palette.DarkVibrant\n          && palette.DarkMuted && palette.LightVibrant && palette.LightMuted\n        )) return\n        this.bg = palette.DarkMuted.getHex()\n        this.text = palette.LightVibrant.getHex()\n        const lightVibrantHSL = Vibrant.Util.rgbToHsl(\n          palette.LightVibrant.r,\n          palette.LightVibrant.g,\n          palette.LightVibrant.b,\n        )\n        const darkMutedHSL = Vibrant.Util.rgbToHsl(\n          palette.DarkMuted.r,\n          palette.DarkMuted.g,\n          palette.DarkMuted.b,\n        )\n        const dml = darkMutedHSL[2]\n        const lvl = lightVibrantHSL[2]\n        const ratio = (Math.max(dml, lvl) + 0.05) / (Math.min(dml, lvl) + 0.05)\n        if (ratio < ratioCorrection) {\n          let newLvl = lvl\n          if (dml < 0.5) {\n            newLvl = ratioCorrection * (dml + 0.05) - 0.05\n            newLvl = Math.min(1, newLvl)\n          }\n          const newLvHsl = lightVibrantHSL\n            .slice(0, 2)\n            .concat(newLvl)\n          const newLvRgb = Vibrant.Util.hslToRgb(newLvHsl[0], newLvHsl[1], newLvHsl[2])\n          const newLvHex = Vibrant.Util.rgbToHex(newLvRgb[0], newLvRgb[1], newLvRgb[2])\n          this.text = newLvHex\n        }\n        if (this.showPalette) {\n          this.palette.push(palette.Vibrant.getHex())\n          this.palette.push(palette.Muted.getHex())\n          this.palette.push(palette.DarkVibrant.getHex())\n          this.palette.push(palette.DarkMuted.getHex())\n          this.palette.push(palette.LightVibrant.getHex())\n          this.palette.push(palette.LightMuted.getHex())\n        }\n      })\n  }\n\n  created() {\n    if (this.autoPalette) {\n      this.updatePalette()\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Track.vue?vue&type=template&id=04de6465&\"\nimport script from \"./Track.vue?vue&type=script&lang=ts&\"\nexport * from \"./Track.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Track.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { formatDistanceStrict } from 'date-fns'\nimport { mapState } from 'vuex'\nimport qs from 'qs'\nimport TrackComponent from '@/components/Track.vue'\nimport { State } from '@/store'\nimport { Scrobble, User } from '@/types/ScrobbleClient'\n// import { spotify, scrobbleClient } from '../api'\n\ninterface HistoryTrackEntry {\n  type: 'track';\n  id: string;\n  start: number;\n  duration: number;\n}\ninterface HistorySkippedEntry {\n  type: 'skipped';\n  tracks: string[];\n}\ntype History = HistoryTrackEntry | HistorySkippedEntry\n\nconst q = qs.parse(window.location.search.slice(1))\nconst showPalette = q.showpalette != null\n\nconst defaultAvatars = [\n  'https://canary.discordapp.com/assets/6debd47ed13483642cf09e832ed0bc1b.png',\n]\n// const defaultUser = {\n//   id: null,\n//   avatar: null,\n//   username: 'Deleted User',\n//   discriminator: '0000',\n// }\n\n@Component({\n  name: 'User',\n  components: {\n    Track: TrackComponent,\n  },\n  computed: mapState(['nowDate', 'tracks', 'albums', 'artists', 'users']),\n})\nexport default class UserComponent extends Vue {\n  @Prop(String) readonly userId!: string\n\n  nowDate!: number\n\n  tracks!: State['tracks']\n\n  albums!: State['albums']\n\n  artists!: State['artists']\n\n  users!: State['users']\n\n  showHistory = false\n\n  openSkips = {}\n\n  avatarError = false\n\n  showPalette = showPalette\n\n  get user(): User | null {\n    const user = this.users[this.userId]\n    if (user) return user.user\n    return null\n  }\n\n  get scrobbles(): Scrobble[] {\n    const user = this.users[this.userId]\n    if (user) return user.scrobbles\n    return []\n  }\n\n  get lastScrobble(): Scrobble | null {\n    const user = this.users[this.userId]\n    if (user) return user.scrobbles[0] || null\n    return null\n  }\n\n  get lastScrobbleTime(): number | null {\n    if (!this.lastScrobble) return null\n    return this.lastScrobble.endTime || this.nowDate\n  }\n\n  get now(): string | null {\n    const { lastScrobble } = this\n    if (!lastScrobble || lastScrobble.endTime != null) return null\n    return lastScrobble.id\n  }\n\n  get avatarUrl() {\n    if (!this.user) return defaultAvatars[0]\n    const { avatarError } = this\n    const { avatar } = this.user\n    if (avatar && !avatarError) {\n      const ext = avatar.startsWith('a_') ? 'gif' : 'png'\n      return `https://cdn.discordapp.com/avatars/${\n        this.userId\n      }/${avatar}.${ext}?size=64`\n    }\n    return defaultAvatars[0]\n  }\n\n  get status() {\n    if (this.now) return 'Listening'\n    return 'Not Listening'\n  }\n\n  get statusColor() {\n    if (this.now) return '#1ED760'\n    return 'rgba(255, 255, 255, .5)'\n  }\n\n  get history() {\n    const history: History[] = []\n    for (let i = 0; i < this.scrobbles.length - (this.scrobbles[0] ? 1 : 0); i += 1) {\n      let lastEntry = history[history.length - 1]\n      const scrobble = this.scrobbles[i]\n      const scrobbleDuration = (scrobble.endTime || this.nowDate) - scrobble.startTime\n      if (scrobbleDuration > 20000) {\n        history.push({\n          type: 'track',\n          id: scrobble.id,\n          start: scrobble.startTime,\n          duration: scrobbleDuration,\n        })\n      } else {\n        if (!lastEntry || lastEntry.type !== 'skipped') {\n          history.push({\n            type: 'skipped',\n            tracks: [],\n          })\n          lastEntry = history[history.length - 1]\n        }\n        if (lastEntry.type === 'skipped') {\n          lastEntry.tracks.push(scrobble.id)\n        }\n      }\n    }\n    const lastEntry = history[history.length - 1]\n    if (lastEntry && lastEntry.type !== 'track') history.pop()\n    return history\n  }\n\n  get isUser() {\n    return this.user && this.user.discriminator !== '0000'\n  }\n\n  formatTimeDiff(diff: number) {\n    return diff < 5000\n      ? 'just now'\n      : formatDistanceStrict(this.nowDate, this.nowDate - diff).replace(\n        /(\\d+) (second|minute|hour|day|week|month|year)s?/,\n        (m, d, u: 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year') => {\n          const letter = {\n            second: 's',\n            minute: 'm',\n            hour: 'h',\n            day: 'd',\n            week: 'w',\n            month: 'mo',\n            year: 'y',\n          }[u]\n          return `${d}${letter} ago`\n        },\n      )\n  }\n\n  toggleHistory() {\n    this.showHistory = !this.showHistory\n  }\n\n  toggleSkip() {\n    // Do nothing until performance can be improved\n    // this.openSkips[i] = !this.openSkips[i]\n  }\n\n  onAvatarError() {\n    this.avatarError = true\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=15f1e422&\"\nimport script from \"./User.vue?vue&type=script&lang=ts&\"\nexport * from \"./User.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { ErrorCallback, queue } from 'async'\nimport { mapState } from 'vuex'\nimport qs from 'qs'\nimport UserComponent from '@/components/User.vue'\nimport { Track } from '@/types/Spotify'\nimport { ScrobbleResponse } from '@/types/ScrobbleClient'\nimport { Cache, State } from '@/store'\nimport { spotify, scrobbleClient } from '../api'\n\nconst q = qs.parse(window.location.search.slice(1))\nconst searchForUsers = typeof q.users === 'string' ? q.users.split(',') : ['*']\nconst hideHistory = Boolean(q.hidehistory != null)\n\nlet cachedTracks: Track[] = []\nlet cachedUsers: Cache<ScrobbleResponse> = {}\n\n@Component({\n  name: 'Home',\n  components: {\n    User: UserComponent,\n  },\n  computed: mapState(['tracks', 'users']),\n})\nexport default class Home extends Vue {\n  tracks!: State['tracks']\n\n  users!: State['users']\n\n  userIds: string[] = []\n\n  ready = false\n\n  tracksQueue = queue(this.tracksHandler, 2)\n\n  loadingData = {\n    total: 1,\n    complete: 0,\n    desc: '',\n  }\n\n  refreshData() {\n    if (!this.ready) {\n      this.loadingData.total = 1\n      this.loadingData.complete = 0\n      this.loadingData.desc = 'Grabbing User Data'\n    }\n    let userIds: string[]\n    return scrobbleClient\n      .getUsers(searchForUsers)\n      .then((users): Promise<void> | null => {\n        userIds = users.map(user => user.user.id)\n        const trackIds: string[] = []\n        const trackIdBuckets: string[][] = []\n        userIds.forEach(userId => {\n          const user = users.find(u => u.user.id === userId)\n          if (!user) return\n          if (hideHistory) {\n            user.scrobbles = [user.scrobbles[0]]\n          }\n          // const lastScrobble = user.scrobbles[0]\n          // const lastListen = !lastActivity || !lastActivity.t\n          //   ? null\n          //   : lastActivity.s + lastActivity.t\n          cachedUsers[userId] = user\n          user.scrobbles.forEach(scrobble => {\n            if (/^[a-z0-9]{22}$/i.test(scrobble.id)) {\n              if (!trackIds.includes(scrobble.id) && !this.tracks[scrobble.id]) {\n                trackIds.push(scrobble.id)\n              }\n            } else {\n              console.log('Invalid ID \"%s\" from user %s', scrobble.id, userId)\n            }\n          })\n        })\n        if (trackIds.length) {\n          for (let i = 0; i < trackIds.length; i += 1) {\n            if (i % 50 === 0) trackIdBuckets.unshift([])\n            trackIdBuckets[0].push(trackIds[i])\n          }\n          if (!this.ready) {\n            this.loadingData.total = trackIdBuckets.length\n            this.loadingData.complete = 0\n            this.loadingData.desc = 'Loading Spotify Data'\n          }\n          this.tracksQueue.push(trackIdBuckets)\n          return this.tracksQueue.drain()\n        }\n        return null\n      })\n      .then(() => {\n        this.$store.dispatch('saveTracks', cachedTracks)\n        Object.entries(cachedUsers).forEach(([userId, data]) => {\n          this.$store.dispatch('updateUser', { userId, data })\n        })\n        this.userIds = userIds\n        this.$store.dispatch('reinitUsers')\n        cachedTracks = []\n        cachedUsers = {}\n      })\n      .catch(error => {\n        console.error(error)\n      })\n  }\n\n  // usersHandler(userIds, callback) {\n  //   if (userIds.length > 72) {\n  //     const extraUserIds = userIds.slice(72)\n  //     userIds = userIds.slice(0, 72)\n  //     this.tracksQueue.push([extraUserIds])\n  //   }\n  //   scrobbleClient\n  //     .getMultiData('/dspotify', userIds)\n  //     .then(users => {\n  //       if (!this.ready) {\n  //         this.loadingData.complete++\n  //         console.log(\n  //           'Loaded %s users, %s buckets complete',\n  //           Object.keys(users).length,\n  //           this.loadingData.complete\n  //         )\n  //       }\n  //       Object.assign(cachedUsers, users)\n  //     })\n  //     .catch(error => {\n  //       console.error(error)\n  //     })\n  // },\n  tracksHandler(trackIdsIn: string[], callback: ErrorCallback) {\n    let trackIds = trackIdsIn\n    if (trackIds.length > 50) {\n      const extraTrackIds = trackIds.slice(50)\n      trackIds = trackIds.slice(0, 50)\n      this.tracksQueue.push([extraTrackIds])\n    }\n    spotify\n      .getTracks(trackIds)\n      .then(({ tracks }) => {\n        if (!this.ready) {\n          this.loadingData.complete += 1\n          console.log(\n            'Loaded %s tracks, %s buckets complete',\n            tracks.length,\n            this.loadingData.complete,\n          )\n        }\n        cachedTracks.push(...tracks)\n        callback()\n      })\n      .catch(error => {\n        if (error.status === 429) {\n          const retryTimeout = parseInt(\n            error.response.headers['retry-after'],\n            10,\n          )\n          console.log('Bucket ratelimited, retrying in %ss', retryTimeout)\n          setTimeout(() => {\n            this.tracksHandler(trackIds, callback)\n          }, retryTimeout * 1000 + 500)\n        } else if (error.status === 401) {\n          console.log('Spotify access token expired, obtaining a fresh one')\n          scrobbleClient.getSpotifyToken().then(({ token, tokenType }) => {\n            spotify.setToken(token, tokenType)\n            this.tracksHandler(trackIds, callback)\n          })\n        } else {\n          console.error(error)\n        }\n      })\n  }\n\n  dataInterval() {\n    setTimeout(() => {\n      this.refreshData().then(() => {\n        this.dataInterval()\n      })\n    }, 1000)\n  }\n\n  sortUsers() {\n    const { users } = this\n    const listening: string[] = []\n    const notListening: string[] = []\n    this.userIds.forEach(userId => {\n      const user = users[userId]\n      if (!user) return\n      if (user.scrobbles[0] && user.scrobbles[0].endTime == null) listening.push(userId)\n      else notListening.push(userId)\n    })\n    listening.sort((a, b) => {\n      const userA = users[a]\n      const userB = users[b]\n      if (!userA || !userB) return 0\n      if (\n        userA.user.username.toLowerCase()\n        > userB.user.username.toLowerCase()\n      ) { return 1 }\n      if (\n        userA.user.username.toLowerCase()\n        < userB.user.username.toLowerCase()\n      ) { return -1 }\n      return 0\n    })\n    notListening.sort((a, b) => {\n      const userA = users[a]\n      const userB = users[b]\n      if (!userA || !userB) return 0\n      if (userA.scrobbles[0].startTime > userB.scrobbles[0].startTime) return -1\n      if (userA.scrobbles[0].startTime < userB.scrobbles[0].startTime) return 1\n      return 0\n    })\n    this.userIds = listening.concat(notListening)\n  }\n\n  created() {\n    this.$store\n      .dispatch('loadIndexedDB')\n      .then(() => this.refreshData())\n      .then(() => {\n        this.ready = true\n        this.dataInterval()\n      })\n    this.$store.subscribe(mutation => {\n      if (mutation.type === 'reinitUsers') this.sortUsers()\n    })\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=8a3fef16&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '@/views/Home.vue'\n\nVue.use(VueRouter)\n\nexport default new VueRouter({\n  mode: 'hash',\n  routes: [{ path: '/', component: Home }],\n})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport localforage from 'localforage'\nimport { Image, Track } from '@/types/Spotify'\nimport { ScrobbleResponse } from '@/types/ScrobbleClient'\n\nVue.use(Vuex)\n\nexport interface Cache<T> {\n  [ id: string ]: T | undefined;\n}\nexport interface StateTrack {\n  id: string;\n  album: string;\n  artists: string[];\n  name: string;\n  duration: number;\n}\n\n/**\n * Apparently its possible for an album to not have a cover image lol\n * E.g: https://open.spotify.com/album/0fHB3Fl84QT2cjwDTEKXon (https://i.imgur.com/SEvnvpI.png)\n * */\nexport interface StateAlbum {\n  id: string;\n  name: string;\n  images: Array<Image | undefined>;\n}\nexport interface StateArtist {\n  id: string;\n  name: string;\n}\nexport interface State {\n  nowDate: number;\n  tracks: Cache<StateTrack>;\n  albums: Cache<StateAlbum>;\n  artists: Cache<StateArtist>;\n  users: Cache<ScrobbleResponse>;\n  openHistories: Cache<boolean>;\n  localforageEnabled: boolean;\n}\n\nexport default new Vuex.Store<State>({\n  state: {\n    nowDate: Date.now(),\n    tracks: {},\n    albums: {},\n    artists: {},\n    users: {},\n    openHistories: {},\n    localforageEnabled: true,\n  },\n  mutations: {\n    saveTrack(state, { id, track }: { id: string; track: StateTrack }) {\n      state.tracks[id] = track\n    },\n    saveAlbum(state, { id, album }: { id: string; album: StateAlbum }) {\n      state.albums[id] = album\n    },\n    saveArtist(state, { id, artist }: { id: string; artist: StateArtist }) {\n      state.artists[id] = artist\n    },\n    setNowDate(state, date) {\n      state.nowDate = date\n    },\n    updateUser(state, { userId, data }) {\n      state.users[userId] = { ...state.users[userId], ...data }\n    },\n    reinitUsers(state) {\n      state.users = { ...state.users }\n    },\n    disableLocalforage(state) {\n      state.localforageEnabled = false\n    },\n  },\n  actions: {\n    updateNow({ commit }) {\n      commit('setNowDate', Date.now())\n    },\n    async loadIndexedDB() {\n      // try {\n      //   const tracksStr = await localforage.getItem('tracks')\n      //   if (!tracksStr) return\n      //   const tracks = JSON.parse(tracksStr)\n      //   const artists = JSON.parse(await localforage.getItem('artists'))\n      //   const albums = JSON.parse(await localforage.getItem('albums'))\n      //   for (const [id, track] of Object.entries(tracks))\n      //     commit('saveTrack', { id, track })\n      //   for (const [id, artist] of Object.entries(artists))\n      //     commit('saveArtist', { id, artist })\n      //   for (const [id, album] of Object.entries(albums))\n      //     commit('saveAlbum', { id, album })\n      // } catch (error) {\n      //   commit('disableLocalforage')\n      // }\n    },\n    async saveTracks({ commit, state }, tracks: Track[]) {\n      let changes = 0\n      tracks.forEach(track => {\n        if (track.id in state.tracks) return\n        changes += 1\n        commit('saveTrack', {\n          id: track.id,\n          track: {\n            id: track.id,\n            album: track.album.id,\n            artists: track.artists.map(artist => artist.id),\n            name: track.name,\n            duration: track.duration_ms,\n          },\n        })\n        track.artists.forEach(artist => {\n          if (artist.id in state.artists) return\n          commit('saveArtist', {\n            id: artist.id,\n            artist: {\n              id: artist.id,\n              name: artist.name,\n            },\n          })\n        })\n        if (!(track.album.id in state.albums)) {\n          commit('saveAlbum', {\n            id: track.album.id,\n            album: {\n              id: track.album.id,\n              name: track.album.name,\n              images: track.album.images,\n            },\n          })\n        }\n      })\n      if (changes > 0 && state.localforageEnabled) {\n        await localforage.setItem('tracks', JSON.stringify(state.tracks))\n        await localforage.setItem('artists', JSON.stringify(state.artists))\n        await localforage.setItem('albums', JSON.stringify(state.albums))\n      }\n    },\n    updateUser({ commit }, { userId, data }) {\n      commit('updateUser', { userId, data })\n    },\n    reinitUsers({ commit }) {\n      commit('reinitUsers')\n    },\n  },\n})\n","import Vue from 'vue'\nimport VueVirtualScroller from 'vue-virtual-scroller'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\n// Vue Virtual Scroller\nVue.use(VueVirtualScroller)\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}